(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,n){},155:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(23),l=n.n(o),i=n(64),c=n(157),s=n(158),d=n(159),u=n(160),m="@Session_Token",p=function(e){localStorage.setItem(m,e)},h=n(19),f=n.n(h),g=n(24),v=n(10),b=n(11),E=n(13),x=n(12),y=n(14),w=n(156),_=n(161),j=n(18),S=n.n(j),O=n(25),k=n.n(O),N=n(15),C=n(16);function F(){var e=Object(N.a)(["\n  width: 400px;\n  background: #fff;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  img {\n    width: 100px;\n    margin: 10px 0 40px;\n  }\n  p {\n    color: #ff3333;\n    margin-bottom: 15px;\n    border: 1px solid #ff3333;\n    padding: 10px;\n    width: 100%;\n    text-align: center;\n  }\n  input {\n    flex: 1;\n    height: 46px;\n    margin-bottom: 15px;\n    padding: 0 20px;\n    color: #777;\n    font-size: 15px;\n    width: 100%;\n    border: 1px solid #ddd;\n    &::placeholder {\n      color: #999;\n    }\n  }\n  button {\n    color: #fff;\n    font-size: 16px;\n    background: #fc6963;\n    height: 56px;\n    border: 0;\n    border-radius: 5px;\n    width: 100%;\n  }\n  hr {\n    margin: 20px 0;\n    border: none;\n    border-bottom: 1px solid #cdcdcd;\n    width: 100%;\n  }\n  a {\n    font-size: 16;\n    font-weight: bold;\n    color: #999;\n    text-decoration: none;\n  }\n"]);return F=function(){return e},e}function z(){var e=Object(N.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n"]);return z=function(){return e},e}var I=C.a.div(z()),D=C.a.form(F()),M=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:"",error:""},n.handleSignUp=function(){var e=Object(g.a)(f.a.mark(function e(t){var a,r,o,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=n.state,r=a.username,o=a.email,l=a.password,r&&o&&l?S()({method:"post",url:"/cadastro",headers:{"Content-type":"application/json"},data:{username:r,email:o,password:l}}).then(function(e){e.data[0]?n.props.history.push("/"):n.setState({error:e.data[1]})}).catch(function(e){console.log("erro",e),n.setState({error:"Ocorreu um erro ao registrar sua conta :("})}):n.setState({error:"Preencha todos os dados para se cadastrar :D"});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(I,null,r.a.createElement(D,{onSubmit:this.handleSignUp},r.a.createElement("img",{src:k.a,alt:"logo"}),this.state.error&&r.a.createElement("p",null,this.state.error),r.a.createElement("input",{type:"text",placeholder:"Nome de usu\xe1rio",onChange:function(t){return e.setState({username:t.target.value})}}),r.a.createElement("input",{type:"email",placeholder:"Endere\xe7o de e-mail",onChange:function(t){return e.setState({email:t.target.value})}}),r.a.createElement("input",{type:"password",placeholder:"Senha",onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement("button",{type:"submit"},"Cadastrar"),r.a.createElement("hr",null),r.a.createElement(w.a,{to:"/"},"Fazer login")))}}]),t}(a.Component),T=Object(_.a)(M);function P(){var e=Object(N.a)(["\n  width: 400px;\n  background: #fff;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  img {\n    width: 100px;\n    margin: 10px 0 40px;\n  }\n  p {\n    color: #ff3333;\n    margin-bottom: 15px;\n    border: 1px solid #ff3333;\n    padding: 10px;\n    width: 100%;\n    text-align: center;\n  }\n  input {\n    flex: 1;\n    height: 46px;\n    margin-bottom: 15px;\n    padding: 0 20px;\n    color: #777;\n    font-size: 15px;\n    width: 100%;\n    border: 1px solid #ddd;\n    &::placeholder {\n      color: #999;\n    }\n  }\n  button {\n    color: #fff;\n    font-size: 16px;\n    background: #fc6963;\n    height: 56px;\n    border: 0;\n    border-radius: 5px;\n    width: 100%;\n  }\n  hr {\n    margin: 20px 0;\n    border: none;\n    border-bottom: 1px solid #cdcdcd;\n    width: 100%;\n  }\n  a {\n    font-size: 16;\n    font-weight: bold;\n    color: #999;\n    text-decoration: none;\n  }\n"]);return P=function(){return e},e}function V(){var e=Object(N.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n"]);return V=function(){return e},e}var R=C.a.div(V()),A=C.a.form(P()),B=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:""},n.handleSignIn=function(){var e=Object(g.a)(f.a.mark(function e(t){var a,r,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=n.state,r=a.username,o=a.password,!r&&r.length<=255||!o&&o.length<=255?n.setState({error:"Preencha usuario e senha para continuar!"}):S()({method:"post",url:"/login",headers:{"Content-type":"application/json"},data:{username:r,password:o}}).then(function(e){console.log(e.data.token),e.data.token[0]?(p(e.data.token[1]),n.props.history.push("/app")):n.setState({error:"Houve um problema com o login, verifique suas credenciais."})}).catch(function(e){console.log("erro",e),n.setState({error:"Houve um problema com o login, verifique suas credenciais."})});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(R,null,r.a.createElement(A,{onSubmit:this.handleSignIn},r.a.createElement("img",{src:k.a,alt:"logo"}),this.state.error&&r.a.createElement("p",null,this.state.error),r.a.createElement("input",{type:"text",placeholder:"Usuario",onChange:function(t){return e.setState({username:t.target.value})}}),r.a.createElement("input",{type:"password",placeholder:"Senha",onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement("button",{type:"submit"},"Entrar"),r.a.createElement("hr",null),r.a.createElement(w.a,{to:"/cadastro"},"Se cadastrar :D")))}}]),t}(a.Component),H=Object(_.a)(B),L=(n(106),n(47),n(29)),q=n.n(L),U=function(e){return r.a.createElement("div",{className:"col-xl-11"},r.a.createElement("div",{className:"card shadow mb-4"},r.a.createElement("div",{className:"card-header align-items-center"},r.a.createElement("h2",{className:"text-center"},"Detalhes do Pedido ",e.pedidos_id),r.a.createElement("br",null),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("a",null,"Nome: ",e.client_name),r.a.createElement("div",null,r.a.createElement("a",null,"Telefone: ",e.client_phone)),r.a.createElement("a",null,"Email: ",e.client_email))),r.a.createElement(q.a,{keyField:"id",columns:[{dataField:"name",text:"Items"},{dataField:"description",text:"Descricao"},{dataField:"quantity",text:"Quantidade"},{dataField:"value",text:"Valor"}],data:e.data}),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null),r.a.createElement("h5",{style:{"margin-right":"2rem"}},"Total: ",e.value_total)),r.a.createElement("div",{className:"row justify-content-center align-self-center",style:{"margin-bottom":"1rem"}},r.a.createElement("button",{className:"btn btn-success ",onClick:e.voltar_tabela},"Voltar"))))},$=n(63),J=function(e){var t=e.data,n={onClick:function(t,n,a){var r=e.data_detalhes[parseInt(n.id)-1];e.detalhes_pedidos(!0,r)}};if(e.isModal){var a=e.pedidos;return r.a.createElement(U,{data:a.items,pedidos_id:a.id,value_total:a.value_total,client_name:a.client_name,client_phone:a.client_phone,client_email:a.client_email,voltar_tabela:e.voltar_tabela})}return r.a.createElement("div",{className:"col-xl-11"},r.a.createElement("div",{className:"card shadow mb-4"},r.a.createElement("div",{className:"card-header align-items-center"},r.a.createElement("h2",{className:"text-center"},"Pedidos"),r.a.createElement("br",null),r.a.createElement("div",{className:"row justify-content-center align-self-center"},r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{type:"date",className:"form-control",onChange:e.search_client})),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{type:"date",className:"form-control",onChange:e.search_client})),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Nome do Cliente",onChange:e.search_client})),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{type:"number",className:"form-control",placeholder:"Valor Minimo",onChange:e.search_minimo})))),r.a.createElement(q.a,{keyField:"id",data:t,columns:[{dataField:"id",text:"Identificac\xe3o"},{dataField:"date",text:"Data do Pedido"},{dataField:"value",text:"Valor"},{dataField:"name",text:"Cliente"}],rowEvents:n}),r.a.createElement("div",{className:"row justify-content-center align-self-center",style:{marginBottom:"1rem"}},r.a.createElement($.CSVLink,{className:"btn btn-success ",data:t},"Exportar CSV"))))},Q=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={data_detalhes:[],pedidos:[],data:[],isModal:!1,Token_myStorage:null},n.filtro_data=function(e){n.setState({data:e})},n}return Object(y.a)(t,e),Object(b.a)(t,[{key:"get_data",value:function(e){var t=[],n=[],a=[];if(e.length>0){t=e;for(var r=0;r<t.length;r++)n.push({id:t[r].id,date:t[r].date,value:"R$ "+t[r].value.toLocaleString("pt-BR"),name:t[r].client.name}),a.push({id:t[r].id,value_total:"R$ "+t[r].value.toLocaleString("pt-BR"),client_id:t[r].client.id,client_name:t[r].client.name,client_email:t[r].client.email,client_phone:t[r].client.phone,items:t[r].items});this.setState({data:n,pedidos:n,data_detalhes:a})}}},{key:"componentDidMount",value:function(){var e=this;this.setState({Token_myStorage:window.localStorage});var t=window.localStorage.getItem("@Session_Token");S()({method:"post",url:"/api/pedidos",headers:{"Content-type":"application/json"},data:{token:t}}).then(function(t){e.get_data(t.data.pedidos)}).catch(function(e){console.log("erro",e)})}},{key:"render",value:function(){var e=this;return r.a.createElement(J,{isModal:this.state.isModal,data:this.state.data,data_detalhes:this.state.data_detalhes,pedidos:this.state.pedidos,search_client:function(t){for(var n=e.state.pedidos,a=t.target.value,r=[],o=0;o<n.length;o++){if(n[o].name===a)return console.log("achou"),r.push(n[o]),e.filtro_data(r),0;e.filtro_data(e.state.pedidos)}},search_minimo:function(t){for(var n=e.state.pedidos,a=t.target.value,r=[],o=0;o<n.length;o++)parseFloat(n[o].value.replace("R$",""))>=a&&(r.push(n[o]),e.filtro_data(r));null==a&&e.filtro_data(e.state.pedidos)},detalhes_pedidos:function(t,n){e.setState({isModal:t}),e.setState({pedidos:n})},voltar_tabela:function(){e.setState({isModal:!1}),e.setState({pedidos:[]})}})}}]),t}(a.Component),G=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"page-top"},r.a.createElement("div",{id:"wrapper"},r.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},r.a.createElement("div",{id:"content"},r.a.createElement("div",{className:"row justify-content-center",style:{marginTop:"5%"}},r.a.createElement(Q,null))))))}}]),t}(a.Component),K=Object(_.a)(G),W=function(e){var t=e.component,n=Object(i.a)(e,["component"]);return r.a.createElement(c.a,Object.assign({},n,{render:function(e){return null!==localStorage.getItem(m)?r.a.createElement(t,e):r.a.createElement(s.a,{to:{pathname:"/",state:{from:e.location}}})}}))},X=function(){return r.a.createElement(d.a,null,r.a.createElement(u.a,null,r.a.createElement(c.a,{exact:!0,path:"/",component:H}),r.a.createElement(c.a,{path:"/cadastro",component:T}),r.a.createElement(W,{path:"/app",component:K}),r.a.createElement(c.a,{path:"*",component:function(){return r.a.createElement("h1",null,"Page not found")}})))};n(154);function Y(){var e=Object(N.a)(["\n* {\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n  outline: 0;\n}\nbody, html {\n  background: #eee;\n  font-family: 'Helvetica Neue', 'Helvetica', Arial, sans-serif;\n  text-rendering: optimizeLegibility !important;\n  -webkit-font-smoothing: antialiased !important;\n  height: 100%;\n  width: 100%;\n}\n"]);return Y=function(){return e},e}Object(C.b)(Y());var Z=function(){return r.a.createElement(X,null)};l.a.render(r.a.createElement(Z,null),document.getElementById("root"))},25:function(e,t,n){e.exports=n.p+"static/media/logo.2a42dd1e.png"},65:function(e,t,n){e.exports=n(155)}},[[65,1,2]]]);
//# sourceMappingURL=main.a71a219d.chunk.js.map